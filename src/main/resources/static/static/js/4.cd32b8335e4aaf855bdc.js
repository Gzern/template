webpackJsonp([4],{BuhO:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("mvHQ"),r=t.n(a),n=t("vMJZ"),o=(t("mtWM"),t("LOkV")),i={name:"",data:function(){return{username:"",password:"",repassword:"",isBtnLoading:!1}},computed:{btnText:function(){return this.isBtnLoading?"注册中...":"注册"}},methods:{toLogin:function(){this.$router.push("/login")},reg:function(){var e=this;if(this.username.trim())if(this.password)if(this.repassword)if(this.repassword===this.password){var s={userName:this.username,userPassword:this.password};this.isBtnLoading=!0;var t=r()(s);n.a.Reg(t).then(function(s){if(console.log(s),e.isBtnLoading=!1,"SUCCESS"===s.data.success){e.$message.success("注册成功"),e.username="",e.password="",e.repassword="";var t={token:s.data.data};o.b("token",t),e.$emit("login","/")}else e.$message.error(s.data.data)}).catch(function(s){e.$message.error("注册失败，服务器异常"),console.log(s)})}else this.$message.error("两次密码不一致");else this.$message.error("请再次填写密码");else this.$message.error("请填写密码");else this.$message.error("请填写用户名")}},created:function(){sessionStorage.clear()}},l={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"reg",on:{keyup:function(s){return"button"in s||!e._k(s.keyCode,"enter",13,s.key,"Enter")?e.reg(s):null}}},[t("el-form",{staticClass:"reg-form"},[t("h1",{staticClass:"title"},[e._v("样板管理系统")]),e._v(" "),t("el-form-item",[t("el-input",{attrs:{autofocus:!0,placeholder:"请输入账号"},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"el-icon-mobile-phone"})])],2)],1),e._v(" "),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"el-icon-info"})])],2)],1),e._v(" "),t("el-form-item",[t("el-input",{attrs:{placeholder:"请再次输入密码",type:"password"},model:{value:e.repassword,callback:function(s){e.repassword=s},expression:"repassword"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"el-icon-info"})])],2)],1),e._v(" "),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.isBtnLoading},nativeOn:{click:function(s){return e.reg(s)}}},[e._v(e._s(e.btnText))])],1)],1),e._v(" "),t("a",{staticClass:"login",on:{click:e.toLogin}},[e._v(" 跳转登录页面 ")])],1)},staticRenderFns:[]};var c=t("VU/8")(i,l,!1,function(e){t("Zwtc")},"data-v-fd90f034",null);s.default=c.exports},Zwtc:function(e,s){},vMJZ:function(e,s,t){"use strict";var a=t("mtWM"),r=t.n(a);t("byEY");r.a.defaults.baseURL="http://localhost:8080",r.a.defaults.headers.post["Content-Type"]="application/json",s.a={Login:function(e){return r.a.post("/login/login",e)},Reg:function(e){return r.a.post("/login/register",e)}}}});
//# sourceMappingURL=4.cd32b8335e4aaf855bdc.js.map